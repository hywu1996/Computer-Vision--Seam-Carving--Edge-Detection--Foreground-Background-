
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>P4_Input_Output</title><meta name="generator" content="MATLAB 9.3"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2018-03-19"><meta name="DC.source" content="P4_Input_Output.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><pre class="codeinput">im = [];
im(:,:,1) =   [101   244   231   126   249;
                151   249   219     9    64;
                88    93    21   112   155;
                114    55    55   120   205;
                84   154    24   252    63];


im(:,:,2) =   [115   228   195    68   102;
                92    74   216    64   221;
                218   134   123    35   213;
                229    23   192   111   147;
                164   218    78   231   146];


im(:,:,3) =  [  91   201   137    85   182;
                225   102    91   122    60;
                85    46   139   162   241;
                101   252    31   100    69;
                158   198   196    26   239];


W = [-3 1 -3];
mask = [ -1 1 0 -1 0;<span class="keyword">...</span>
         1 1 0 -1 1;<span class="keyword">...</span>
         0 1 0 -1 -1;<span class="keyword">...</span>
         1 1 0 -1 1;<span class="keyword">...</span>
         -1 -1 0 1 0];
maskW = 10;

F = [1 3 0 -3 -1];
im4 = cat(3,im,mask);
eng = computeEng(im4,F,W,maskW)
<span class="comment">%</span>
<span class="comment">% eng =</span>
<span class="comment">%</span>
<span class="comment">%   577.2127 -474.0578 -211.6035 -183.2227 -471.2210</span>
<span class="comment">%  -382.3976 -653.9937 -384.5538   12.8625  287.8903</span>
<span class="comment">%    66.4436 -143.5701   -3.5477 -480.0582 -578.8598</span>
<span class="comment">%    39.5649 -722.9933   94.4719 -420.0252 -159.3623</span>
<span class="comment">%   309.9671 -422.5076 -206.7120 -157.1606  111.4617</span>

seam = [1 ;2 ;3; 4; 1];
imOut = removeSeamV(im4,seam)
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%    244   231   126   249</span>
<span class="comment">%    151   219     9    64</span>
<span class="comment">%     88    93   112   155</span>
<span class="comment">%    114    55    55   205</span>
<span class="comment">%    154    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    228   195    68   102</span>
<span class="comment">%     92   216    64   221</span>
<span class="comment">%    218   134    35   213</span>
<span class="comment">%    229    23   192   147</span>
<span class="comment">%    218    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%    201   137    85   182</span>
<span class="comment">%    225    91   122    60</span>
<span class="comment">%     85    46   162   241</span>
<span class="comment">%    101   252    31    69</span>
<span class="comment">%    198   196    26   239</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,4) =</span>
<span class="comment">%</span>
<span class="comment">%      1     0    -1     0</span>
<span class="comment">%      1     0    -1     1</span>
<span class="comment">%      0     1    -1    -1</span>
<span class="comment">%      1     1     0     1</span>
<span class="comment">%     -1     0     1     0</span>

imOut = addSeamV(im4,seam)
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%    101   101   244   231   126   249</span>
<span class="comment">%    151   249   249   219     9    64</span>
<span class="comment">%     88    93    21    21   112   155</span>
<span class="comment">%    114    55    55   120   120   205</span>
<span class="comment">%     84    84   154    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    115   115   228   195    68   102</span>
<span class="comment">%     92    74    74   216    64   221</span>
<span class="comment">%    218   134   123   123    35   213</span>
<span class="comment">%    229    23   192   111   111   147</span>
<span class="comment">%    164   164   218    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%     91    91   201   137    85   182</span>
<span class="comment">%    225   102   102    91   122    60</span>
<span class="comment">%     85    46   139   139   162   241</span>
<span class="comment">%    101   252    31   100   100    69</span>
<span class="comment">%    158   158   198   196    26   239</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,4) =</span>
<span class="comment">%</span>
<span class="comment">%     -1    -1     1     0    -1     0</span>
<span class="comment">%      1     1     1     0    -1     1</span>
<span class="comment">%      0     1     0     0    -1    -1</span>
<span class="comment">%      1     1     0    -1    -1     1</span>
<span class="comment">%     -1    -1    -1     0     1     0</span>

[M,P] = seamV_DP(eng)
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% M =</span>
<span class="comment">%</span>
<span class="comment">%    1.0e+03 *</span>
<span class="comment">%</span>
<span class="comment">%     0.5772   -0.4741   -0.2116   -0.1832   -0.4712</span>
<span class="comment">%    -0.8565   -1.1281   -0.8586   -0.4584   -0.1833</span>
<span class="comment">%    -1.0616   -1.2716   -1.1316   -1.3387   -1.0372</span>
<span class="comment">%    -1.2321   -1.9946   -1.2442   -1.7587   -1.4980</span>
<span class="comment">%    -1.6846   -2.4171   -2.2013   -1.9159   -1.6472</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% P =</span>
<span class="comment">%</span>
<span class="comment">%     -1    -1    -1    -1    -1</span>
<span class="comment">%      2     2     2     5     5</span>
<span class="comment">%      2     2     2     3     4</span>
<span class="comment">%      2     2     4     4     4</span>
<span class="comment">%      2     2     2     4     4</span>

[seam,c] = bestSeamV(M,P)

<span class="comment">%</span>
<span class="comment">% seam =</span>
<span class="comment">%</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% c =</span>
<span class="comment">%</span>
<span class="comment">%   -2.4171e+03</span>


[seam,im4Out,c] = reduceWidth(im4,eng)
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% seam =</span>
<span class="comment">%</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%    101   231   126   249</span>
<span class="comment">%    151   219     9    64</span>
<span class="comment">%     88    21   112   155</span>
<span class="comment">%    114    55   120   205</span>
<span class="comment">%     84    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    115   195    68   102</span>
<span class="comment">%     92   216    64   221</span>
<span class="comment">%    218   123    35   213</span>
<span class="comment">%    229   192   111   147</span>
<span class="comment">%    164    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%     91   137    85   182</span>
<span class="comment">%    225    91   122    60</span>
<span class="comment">%     85   139   162   241</span>
<span class="comment">%    101    31   100    69</span>
<span class="comment">%    158   196    26   239</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,4) =</span>
<span class="comment">%</span>
<span class="comment">%     -1     0    -1     0</span>
<span class="comment">%      1     0    -1     1</span>
<span class="comment">%      0     0    -1    -1</span>
<span class="comment">%      1     0    -1     1</span>
<span class="comment">%     -1     0     1     0</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% c =</span>
<span class="comment">%</span>
<span class="comment">%   -2.4171e+03</span>

[seam,im4Out,c] = reduceHeight(im4,eng)
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% seam =</span>
<span class="comment">%</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      3</span>
<span class="comment">%      3</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%    101   244   231   126   249</span>
<span class="comment">%     88    93    21     9    64</span>
<span class="comment">%    114    55    55   120   205</span>
<span class="comment">%     84   154    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    115   228   195    68   102</span>
<span class="comment">%    218   134   123    64   221</span>
<span class="comment">%    229    23   192   111   147</span>
<span class="comment">%    164   218    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%     91   201   137    85   182</span>
<span class="comment">%     85    46   139   122    60</span>
<span class="comment">%    101   252    31   100    69</span>
<span class="comment">%    158   198   196    26   239</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,4) =</span>
<span class="comment">%</span>
<span class="comment">%     -1     1     0    -1     0</span>
<span class="comment">%      0     1     0    -1     1</span>
<span class="comment">%      1     1     0    -1     1</span>
<span class="comment">%     -1    -1     0     1     0</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% c =</span>
<span class="comment">%</span>
<span class="comment">%   -2.4799e+03</span>

[seam,im4Out,c] = increaseWidth(im4,eng)
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% seam =</span>
<span class="comment">%</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%    101   244   244   231   126   249</span>
<span class="comment">%    151   249   249   219     9    64</span>
<span class="comment">%     88    93    93    21   112   155</span>
<span class="comment">%    114    55    55    55   120   205</span>
<span class="comment">%     84   154   154    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    115   228   228   195    68   102</span>
<span class="comment">%     92    74    74   216    64   221</span>
<span class="comment">%    218   134   134   123    35   213</span>
<span class="comment">%    229    23    23   192   111   147</span>
<span class="comment">%    164   218   218    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%     91   201   201   137    85   182</span>
<span class="comment">%    225   102   102    91   122    60</span>
<span class="comment">%     85    46    46   139   162   241</span>
<span class="comment">%    101   252   252    31   100    69</span>
<span class="comment">%    158   198   198   196    26   239</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,4) =</span>
<span class="comment">%</span>
<span class="comment">%     -1     1     1     0    -1     0</span>
<span class="comment">%      1     1     1     0    -1     1</span>
<span class="comment">%      0     1     1     0    -1    -1</span>
<span class="comment">%      1     1     1     0    -1     1</span>
<span class="comment">%     -1    -1    -1     0     1     0</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% c =</span>
<span class="comment">%</span>
<span class="comment">%   -2.4171e+03</span>


[seam,im4Out,c] = increaseHeight(im4,eng)

<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% seam =</span>
<span class="comment">%</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      2</span>
<span class="comment">%      3</span>
<span class="comment">%      3</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%    101   244   231   126   249</span>
<span class="comment">%    151   249   219     9    64</span>
<span class="comment">%    151   249   219   112   155</span>
<span class="comment">%     88    93    21   112   155</span>
<span class="comment">%    114    55    55   120   205</span>
<span class="comment">%     84   154    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    115   228   195    68   102</span>
<span class="comment">%     92    74   216    64   221</span>
<span class="comment">%     92    74   216    35   213</span>
<span class="comment">%    218   134   123    35   213</span>
<span class="comment">%    229    23   192   111   147</span>
<span class="comment">%    164   218    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%     91   201   137    85   182</span>
<span class="comment">%    225   102    91   122    60</span>
<span class="comment">%    225   102    91   162   241</span>
<span class="comment">%     85    46   139   162   241</span>
<span class="comment">%    101   252    31   100    69</span>
<span class="comment">%    158   198   196    26   239</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% im4Out(:,:,4) =</span>
<span class="comment">%</span>
<span class="comment">%     -1     1     0    -1     0</span>
<span class="comment">%      1     1     0    -1     1</span>
<span class="comment">%      1     1     0    -1    -1</span>
<span class="comment">%      0     1     0    -1    -1</span>
<span class="comment">%      1     1     0    -1     1</span>
<span class="comment">%     -1    -1     0     1     0</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% c =</span>
<span class="comment">%</span>
<span class="comment">%   -2.4799e+03</span>

fprintf(<span class="string">'-------------------'</span>);

[totalCost,imOut ] = intelligentResize(im,1,0,W,mask,maskW)


<span class="comment">%</span>
<span class="comment">% totalCost =</span>
<span class="comment">%</span>
<span class="comment">%   -3.5462e+03</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%    101   244   244   231   126   249</span>
<span class="comment">%    151   249   249   219     9    64</span>
<span class="comment">%     88    93    21    21   112   155</span>
<span class="comment">%    114    55    55    55   120   205</span>
<span class="comment">%     84   154   154    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    115   228   228   195    68   102</span>
<span class="comment">%     92    74    74   216    64   221</span>
<span class="comment">%    218   134   123   123    35   213</span>
<span class="comment">%    229    23    23   192   111   147</span>
<span class="comment">%    164   218   218    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%     91   201   201   137    85   182</span>
<span class="comment">%    225   102   102    91   122    60</span>
<span class="comment">%     85    46   139   139   162   241</span>
<span class="comment">%    101   252   252    31   100    69</span>
<span class="comment">%    158   198   198   196    26   239</span>

 [totalCost,imOut ] = intelligentResize(im,-1,0,W,mask,maskW)
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% totalCost =</span>
<span class="comment">%</span>
<span class="comment">%   -3.5462e+03</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%    101   231   126   249</span>
<span class="comment">%    151   219     9    64</span>
<span class="comment">%     88    93   112   155</span>
<span class="comment">%    114    55   120   205</span>
<span class="comment">%     84    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    115   195    68   102</span>
<span class="comment">%     92   216    64   221</span>
<span class="comment">%    218   134    35   213</span>
<span class="comment">%    229   192   111   147</span>
<span class="comment">%    164    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%     91   137    85   182</span>
<span class="comment">%    225    91   122    60</span>
<span class="comment">%     85    46   162   241</span>
<span class="comment">%    101    31   100    69</span>
<span class="comment">%    158   196    26   239</span>

[totalCost,imOut ] = intelligentResize(im,0,-1,W,mask,maskW)
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% totalCost =</span>
<span class="comment">%</span>
<span class="comment">%   -4.0555e+03</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%    101   249   219     9    64</span>
<span class="comment">%     88    93    21   112   155</span>
<span class="comment">%    114    55    55   120   205</span>
<span class="comment">%     84   154    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    115    74   216    64   221</span>
<span class="comment">%    218   134   123    35   213</span>
<span class="comment">%    229    23   192   111   147</span>
<span class="comment">%    164   218    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%     91   102    91   122    60</span>
<span class="comment">%     85    46   139   162   241</span>
<span class="comment">%    101   252    31   100    69</span>
<span class="comment">%    158   198   196    26   239</span>


[totalCost,imOut ] = intelligentResize(im,2,-2,W,mask,maskW)
<span class="comment">%      1</span>
<span class="comment">%</span>
<span class="comment">%      2</span>
<span class="comment">%</span>
<span class="comment">%      3</span>
<span class="comment">%</span>
<span class="comment">%      4</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% totalCost =</span>
<span class="comment">%</span>
<span class="comment">%   -1.2632e+04</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,1) =</span>
<span class="comment">%</span>
<span class="comment">%     88    93    21    21    21     9    64</span>
<span class="comment">%    114    55    55    55    55   120   205</span>
<span class="comment">%     84   154   154   154    24   252    63</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,2) =</span>
<span class="comment">%</span>
<span class="comment">%    218   134   123   123   123    64   221</span>
<span class="comment">%    229    23    23    23   192   111   147</span>
<span class="comment">%    164   218   218   218    78   231   146</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% imOut(:,:,3) =</span>
<span class="comment">%</span>
<span class="comment">%     85    46   139   139   139   122    60</span>
<span class="comment">%    101   252   252   252    31   100    69</span>
<span class="comment">%    158   198   198   198   196    26   239</span>
</pre><pre class="codeoutput">
eng =

  577.2127 -474.0578 -211.6035 -183.2227 -471.2210
 -382.3976 -653.9937 -384.5538   12.8625  287.8903
   66.4436 -143.5701   -3.5477 -480.0582 -578.8598
   39.5649 -722.9933   94.4719 -420.0252 -159.3623
  309.9671 -422.5076 -206.7120 -157.1606  111.4617


imOut(:,:,1) =

   244   231   126   249
   151   219     9    64
    88    93   112   155
   114    55    55   205
   154    24   252    63


imOut(:,:,2) =

   228   195    68   102
    92   216    64   221
   218   134    35   213
   229    23   192   147
   218    78   231   146


imOut(:,:,3) =

   201   137    85   182
   225    91   122    60
    85    46   162   241
   101   252    31    69
   198   196    26   239


imOut(:,:,4) =

     1     0    -1     0
     1     0    -1     1
     0     1    -1    -1
     1     1     0     1
    -1     0     1     0


imOut(:,:,1) =

   101   101   244   231   126   249
   151   249   249   219     9    64
    88    93    21    21   112   155
   114    55    55   120   120   205
    84    84   154    24   252    63


imOut(:,:,2) =

   115   115   228   195    68   102
    92    74    74   216    64   221
   218   134   123   123    35   213
   229    23   192   111   111   147
   164   164   218    78   231   146


imOut(:,:,3) =

    91    91   201   137    85   182
   225   102   102    91   122    60
    85    46   139   139   162   241
   101   252    31   100   100    69
   158   158   198   196    26   239


imOut(:,:,4) =

    -1    -1     1     0    -1     0
     1     1     1     0    -1     1
     0     1     0     0    -1    -1
     1     1     0    -1    -1     1
    -1    -1    -1     0     1     0


M =

   1.0e+03 *

    0.5772   -0.4741   -0.2116   -0.1832   -0.4712
   -0.8565   -1.1281   -0.8586   -0.4584   -0.1833
   -1.0616   -1.2716   -1.1316   -1.3387   -1.0372
   -1.2321   -1.9946   -1.2442   -1.7587   -1.4980
   -1.6846   -2.4171   -2.2013   -1.9159   -1.6472


P =

    -1    -1    -1    -1    -1
     2     2     2     5     5
     2     2     2     3     4
     2     2     4     4     4
     2     2     2     4     4


seam =

     2
     2
     2
     2
     2


c =

  -2.4171e+03


seam =

     2
     2
     2
     2
     2


im4Out(:,:,1) =

   101   231   126   249
   151   219     9    64
    88    21   112   155
   114    55   120   205
    84    24   252    63


im4Out(:,:,2) =

   115   195    68   102
    92   216    64   221
   218   123    35   213
   229   192   111   147
   164    78   231   146


im4Out(:,:,3) =

    91   137    85   182
   225    91   122    60
    85   139   162   241
   101    31   100    69
   158   196    26   239


im4Out(:,:,4) =

    -1     0    -1     0
     1     0    -1     1
     0     0    -1    -1
     1     0    -1     1
    -1     0     1     0


c =

  -2.4171e+03


seam =

     2
     2
     2
     3
     3


im4Out(:,:,1) =

   101   244   231   126   249
    88    93    21     9    64
   114    55    55   120   205
    84   154    24   252    63


im4Out(:,:,2) =

   115   228   195    68   102
   218   134   123    64   221
   229    23   192   111   147
   164   218    78   231   146


im4Out(:,:,3) =

    91   201   137    85   182
    85    46   139   122    60
   101   252    31   100    69
   158   198   196    26   239


im4Out(:,:,4) =

    -1     1     0    -1     0
     0     1     0    -1     1
     1     1     0    -1     1
    -1    -1     0     1     0


c =

  -2.4799e+03


seam =

     2
     2
     2
     2
     2


im4Out(:,:,1) =

   101   244   244   231   126   249
   151   249   249   219     9    64
    88    93    93    21   112   155
   114    55    55    55   120   205
    84   154   154    24   252    63


im4Out(:,:,2) =

   115   228   228   195    68   102
    92    74    74   216    64   221
   218   134   134   123    35   213
   229    23    23   192   111   147
   164   218   218    78   231   146


im4Out(:,:,3) =

    91   201   201   137    85   182
   225   102   102    91   122    60
    85    46    46   139   162   241
   101   252   252    31   100    69
   158   198   198   196    26   239


im4Out(:,:,4) =

    -1     1     1     0    -1     0
     1     1     1     0    -1     1
     0     1     1     0    -1    -1
     1     1     1     0    -1     1
    -1    -1    -1     0     1     0


c =

  -2.4171e+03


seam =

     2
     2
     2
     3
     3


im4Out(:,:,1) =

   101   244   231   126   249
   151   249   219     9    64
   151   249   219   112   155
    88    93    21   112   155
   114    55    55   120   205
    84   154    24   252    63


im4Out(:,:,2) =

   115   228   195    68   102
    92    74   216    64   221
    92    74   216    35   213
   218   134   123    35   213
   229    23   192   111   147
   164   218    78   231   146


im4Out(:,:,3) =

    91   201   137    85   182
   225   102    91   122    60
   225   102    91   162   241
    85    46   139   162   241
   101   252    31   100    69
   158   198   196    26   239


im4Out(:,:,4) =

    -1     1     0    -1     0
     1     1     0    -1     1
     1     1     0    -1    -1
     0     1     0    -1    -1
     1     1     0    -1     1
    -1    -1     0     1     0


c =

  -2.4799e+03

-------------------
totalCost =

  -3.5462e+03


imOut(:,:,1) =

   101   244   244   231   126   249
   151   249   249   219     9    64
    88    93    21    21   112   155
   114    55    55    55   120   205
    84   154   154    24   252    63


imOut(:,:,2) =

   115   228   228   195    68   102
    92    74    74   216    64   221
   218   134   123   123    35   213
   229    23    23   192   111   147
   164   218   218    78   231   146


imOut(:,:,3) =

    91   201   201   137    85   182
   225   102   102    91   122    60
    85    46   139   139   162   241
   101   252   252    31   100    69
   158   198   198   196    26   239


imOut(:,:,4) =

    -1     1     1     0    -1     0
     1     1     1     0    -1     1
     0     1     0     0    -1    -1
     1     1     1     0    -1     1
    -1    -1    -1     0     1     0

</pre><pre class="codeoutput error">Undefined function 'decreaseWidth' for input arguments of type 'double'.

Error in intelligentResize (line 60)
                [~,im4,cost] = decreaseWidth(im4,E);

Error in P4_Input_Output (line 406)
 [totalCost,imOut ] = intelligentResize(im,-1,0,W,mask,maskW)
</pre><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2017b</a><br></p></div><!--
##### SOURCE BEGIN #####
im = [];
im(:,:,1) =   [101   244   231   126   249;
                151   249   219     9    64;
                88    93    21   112   155;
                114    55    55   120   205;
                84   154    24   252    63];


im(:,:,2) =   [115   228   195    68   102;
                92    74   216    64   221;
                218   134   123    35   213;
                229    23   192   111   147;
                164   218    78   231   146];


im(:,:,3) =  [  91   201   137    85   182;
                225   102    91   122    60;
                85    46   139   162   241;
                101   252    31   100    69;
                158   198   196    26   239];


W = [-3 1 -3];
mask = [ -1 1 0 -1 0;...
         1 1 0 -1 1;...
         0 1 0 -1 -1;...
         1 1 0 -1 1;...
         -1 -1 0 1 0];
maskW = 10;

F = [1 3 0 -3 -1];
im4 = cat(3,im,mask);
eng = computeEng(im4,F,W,maskW)
% 
% eng =
% 
%   577.2127 -474.0578 -211.6035 -183.2227 -471.2210
%  -382.3976 -653.9937 -384.5538   12.8625  287.8903
%    66.4436 -143.5701   -3.5477 -480.0582 -578.8598
%    39.5649 -722.9933   94.4719 -420.0252 -159.3623
%   309.9671 -422.5076 -206.7120 -157.1606  111.4617

seam = [1 ;2 ;3; 4; 1];
imOut = removeSeamV(im4,seam)
% 
% 
% imOut(:,:,1) =
% 
%    244   231   126   249
%    151   219     9    64
%     88    93   112   155
%    114    55    55   205
%    154    24   252    63
% 
% 
% imOut(:,:,2) =
% 
%    228   195    68   102
%     92   216    64   221
%    218   134    35   213
%    229    23   192   147
%    218    78   231   146
% 
% 
% imOut(:,:,3) =
% 
%    201   137    85   182
%    225    91   122    60
%     85    46   162   241
%    101   252    31    69
%    198   196    26   239
% 
% 
% imOut(:,:,4) =
% 
%      1     0    -1     0
%      1     0    -1     1
%      0     1    -1    -1
%      1     1     0     1
%     -1     0     1     0

imOut = addSeamV(im4,seam)
% 
% 
% imOut(:,:,1) =
% 
%    101   101   244   231   126   249
%    151   249   249   219     9    64
%     88    93    21    21   112   155
%    114    55    55   120   120   205
%     84    84   154    24   252    63
% 
% 
% imOut(:,:,2) =
% 
%    115   115   228   195    68   102
%     92    74    74   216    64   221
%    218   134   123   123    35   213
%    229    23   192   111   111   147
%    164   164   218    78   231   146
% 
% 
% imOut(:,:,3) =
% 
%     91    91   201   137    85   182
%    225   102   102    91   122    60
%     85    46   139   139   162   241
%    101   252    31   100   100    69
%    158   158   198   196    26   239
% 
% 
% imOut(:,:,4) =
% 
%     -1    -1     1     0    -1     0
%      1     1     1     0    -1     1
%      0     1     0     0    -1    -1
%      1     1     0    -1    -1     1
%     -1    -1    -1     0     1     0

[M,P] = seamV_DP(eng)
% 
% 
% M =
% 
%    1.0e+03 *
% 
%     0.5772   -0.4741   -0.2116   -0.1832   -0.4712
%    -0.8565   -1.1281   -0.8586   -0.4584   -0.1833
%    -1.0616   -1.2716   -1.1316   -1.3387   -1.0372
%    -1.2321   -1.9946   -1.2442   -1.7587   -1.4980
%    -1.6846   -2.4171   -2.2013   -1.9159   -1.6472
% 
% 
% P =
% 
%     -1    -1    -1    -1    -1
%      2     2     2     5     5
%      2     2     2     3     4
%      2     2     4     4     4
%      2     2     2     4     4

[seam,c] = bestSeamV(M,P)

% 
% seam =
% 
%      2
%      2
%      2
%      2
%      2
% 
% 
% c =
% 
%   -2.4171e+03


[seam,im4Out,c] = reduceWidth(im4,eng)
% 
% 
% seam =
% 
%      2
%      2
%      2
%      2
%      2
% 
% 
% im4Out(:,:,1) =
% 
%    101   231   126   249
%    151   219     9    64
%     88    21   112   155
%    114    55   120   205
%     84    24   252    63
% 
% 
% im4Out(:,:,2) =
% 
%    115   195    68   102
%     92   216    64   221
%    218   123    35   213
%    229   192   111   147
%    164    78   231   146
% 
% 
% im4Out(:,:,3) =
% 
%     91   137    85   182
%    225    91   122    60
%     85   139   162   241
%    101    31   100    69
%    158   196    26   239
% 
% 
% im4Out(:,:,4) =
% 
%     -1     0    -1     0
%      1     0    -1     1
%      0     0    -1    -1
%      1     0    -1     1
%     -1     0     1     0
% 
% 
% c =
% 
%   -2.4171e+03

[seam,im4Out,c] = reduceHeight(im4,eng)
% 
% 
% seam =
% 
%      2
%      2
%      2
%      3
%      3
% 
% 
% im4Out(:,:,1) =
% 
%    101   244   231   126   249
%     88    93    21     9    64
%    114    55    55   120   205
%     84   154    24   252    63
% 
% 
% im4Out(:,:,2) =
% 
%    115   228   195    68   102
%    218   134   123    64   221
%    229    23   192   111   147
%    164   218    78   231   146
% 
% 
% im4Out(:,:,3) =
% 
%     91   201   137    85   182
%     85    46   139   122    60
%    101   252    31   100    69
%    158   198   196    26   239
% 
% 
% im4Out(:,:,4) =
% 
%     -1     1     0    -1     0
%      0     1     0    -1     1
%      1     1     0    -1     1
%     -1    -1     0     1     0
% 
% 
% c =
% 
%   -2.4799e+03

[seam,im4Out,c] = increaseWidth(im4,eng)
% 
% 
% seam =
% 
%      2
%      2
%      2
%      2
%      2
% 
% 
% im4Out(:,:,1) =
% 
%    101   244   244   231   126   249
%    151   249   249   219     9    64
%     88    93    93    21   112   155
%    114    55    55    55   120   205
%     84   154   154    24   252    63
% 
% 
% im4Out(:,:,2) =
% 
%    115   228   228   195    68   102
%     92    74    74   216    64   221
%    218   134   134   123    35   213
%    229    23    23   192   111   147
%    164   218   218    78   231   146
% 
% 
% im4Out(:,:,3) =
% 
%     91   201   201   137    85   182
%    225   102   102    91   122    60
%     85    46    46   139   162   241
%    101   252   252    31   100    69
%    158   198   198   196    26   239
% 
% 
% im4Out(:,:,4) =
% 
%     -1     1     1     0    -1     0
%      1     1     1     0    -1     1
%      0     1     1     0    -1    -1
%      1     1     1     0    -1     1
%     -1    -1    -1     0     1     0
% 
% 
% c =
% 
%   -2.4171e+03


[seam,im4Out,c] = increaseHeight(im4,eng)

% 
% 
% seam =
% 
%      2
%      2
%      2
%      3
%      3
% 
% 
% im4Out(:,:,1) =
% 
%    101   244   231   126   249
%    151   249   219     9    64
%    151   249   219   112   155
%     88    93    21   112   155
%    114    55    55   120   205
%     84   154    24   252    63
% 
% 
% im4Out(:,:,2) =
% 
%    115   228   195    68   102
%     92    74   216    64   221
%     92    74   216    35   213
%    218   134   123    35   213
%    229    23   192   111   147
%    164   218    78   231   146
% 
% 
% im4Out(:,:,3) =
% 
%     91   201   137    85   182
%    225   102    91   122    60
%    225   102    91   162   241
%     85    46   139   162   241
%    101   252    31   100    69
%    158   198   196    26   239
% 
% 
% im4Out(:,:,4) =
% 
%     -1     1     0    -1     0
%      1     1     0    -1     1
%      1     1     0    -1    -1
%      0     1     0    -1    -1
%      1     1     0    -1     1
%     -1    -1     0     1     0
% 
% 
% c =
% 
%   -2.4799e+03

fprintf('REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-');

[totalCost,imOut ] = intelligentResize(im,1,0,W,mask,maskW)


% 
% totalCost =
% 
%   -3.5462e+03
% 
% 
% imOut(:,:,1) =
% 
%    101   244   244   231   126   249
%    151   249   249   219     9    64
%     88    93    21    21   112   155
%    114    55    55    55   120   205
%     84   154   154    24   252    63
% 
% 
% imOut(:,:,2) =
% 
%    115   228   228   195    68   102
%     92    74    74   216    64   221
%    218   134   123   123    35   213
%    229    23    23   192   111   147
%    164   218   218    78   231   146
% 
% 
% imOut(:,:,3) =
% 
%     91   201   201   137    85   182
%    225   102   102    91   122    60
%     85    46   139   139   162   241
%    101   252   252    31   100    69
%    158   198   198   196    26   239

 [totalCost,imOut ] = intelligentResize(im,-1,0,W,mask,maskW)
%      
% 
% 
% totalCost =
% 
%   -3.5462e+03
% 
% 
% imOut(:,:,1) =
% 
%    101   231   126   249
%    151   219     9    64
%     88    93   112   155
%    114    55   120   205
%     84    24   252    63
% 
% 
% imOut(:,:,2) =
% 
%    115   195    68   102
%     92   216    64   221
%    218   134    35   213
%    229   192   111   147
%    164    78   231   146
% 
% 
% imOut(:,:,3) =
% 
%     91   137    85   182
%    225    91   122    60
%     85    46   162   241
%    101    31   100    69
%    158   196    26   239

[totalCost,imOut ] = intelligentResize(im,0,-1,W,mask,maskW)
%      
% 
% 
% totalCost =
% 
%   -4.0555e+03
% 
% 
% imOut(:,:,1) =
% 
%    101   249   219     9    64
%     88    93    21   112   155
%    114    55    55   120   205
%     84   154    24   252    63
% 
% 
% imOut(:,:,2) =
% 
%    115    74   216    64   221
%    218   134   123    35   213
%    229    23   192   111   147
%    164   218    78   231   146
% 
% 
% imOut(:,:,3) =
% 
%     91   102    91   122    60
%     85    46   139   162   241
%    101   252    31   100    69
%    158   198   196    26   239


[totalCost,imOut ] = intelligentResize(im,2,-2,W,mask,maskW)
%      1
% 
%      2
% 
%      3
% 
%      4
% 
% 
% totalCost =
% 
%   -1.2632e+04
% 
% 
% imOut(:,:,1) =
% 
%     88    93    21    21    21     9    64
%    114    55    55    55    55   120   205
%     84   154   154   154    24   252    63
% 
% 
% imOut(:,:,2) =
% 
%    218   134   123   123   123    64   221
%    229    23    23    23   192   111   147
%    164   218   218   218    78   231   146
% 
% 
% imOut(:,:,3) =
% 
%     85    46   139   139   139   122    60
%    101   252   252   252    31   100    69
%    158   198   198   198   196    26   239
##### SOURCE END #####
--></body></html>